/* model.c generated by valac 0.30.1, the Vala compiler
 * generated from model.vala, do not modify */

/*
 * Copyright (C) 2010 Michal Hruby <michal.mhr@gmail.com>
 * Copyright (C) 2010 Alberto Aldegheri <albyrock87+dev@gmail.com>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * Authored by Alberto Aldegheri <albyrock87+dev@gmail.com>
 *
 */

#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <gee.h>
#include <synapse-core.h>


#define SYNAPSE_GUI_TYPE_MODEL (synapse_gui_model_get_type ())
#define SYNAPSE_GUI_MODEL(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SYNAPSE_GUI_TYPE_MODEL, SynapseGuiModel))
#define SYNAPSE_GUI_MODEL_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SYNAPSE_GUI_TYPE_MODEL, SynapseGuiModelClass))
#define SYNAPSE_GUI_IS_MODEL(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SYNAPSE_GUI_TYPE_MODEL))
#define SYNAPSE_GUI_IS_MODEL_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SYNAPSE_GUI_TYPE_MODEL))
#define SYNAPSE_GUI_MODEL_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SYNAPSE_GUI_TYPE_MODEL, SynapseGuiModelClass))

typedef struct _SynapseGuiModel SynapseGuiModel;
typedef struct _SynapseGuiModelClass SynapseGuiModelClass;
typedef struct _SynapseGuiModelPrivate SynapseGuiModelPrivate;

#define SYNAPSE_GUI_TYPE_ENTRY (synapse_gui_entry_get_type ())
#define SYNAPSE_GUI_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SYNAPSE_GUI_TYPE_ENTRY, SynapseGuiEntry))
#define SYNAPSE_GUI_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SYNAPSE_GUI_TYPE_ENTRY, SynapseGuiEntryClass))
#define SYNAPSE_GUI_IS_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SYNAPSE_GUI_TYPE_ENTRY))
#define SYNAPSE_GUI_IS_ENTRY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SYNAPSE_GUI_TYPE_ENTRY))
#define SYNAPSE_GUI_ENTRY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SYNAPSE_GUI_TYPE_ENTRY, SynapseGuiEntryClass))

typedef struct _SynapseGuiEntry SynapseGuiEntry;
typedef struct _SynapseGuiEntryClass SynapseGuiEntryClass;

#define SYNAPSE_GUI_TYPE_SEARCHING_FOR (synapse_gui_searching_for_get_type ())
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _synapse_gui_entry_unref0(var) ((var == NULL) ? NULL : (var = (synapse_gui_entry_unref (var), NULL)))

typedef enum  {
	SYNAPSE_GUI_SEARCHING_FOR_SOURCES,
	SYNAPSE_GUI_SEARCHING_FOR_ACTIONS,
	SYNAPSE_GUI_SEARCHING_FOR_TARGETS,
	SYNAPSE_GUI_SEARCHING_FOR_COUNT
} SynapseGuiSearchingFor;

struct _SynapseGuiModel {
	GObject parent_instance;
	SynapseGuiModelPrivate * priv;
	gchar** query;
	gint query_length1;
	GeeList** results;
	gint results_length1;
	SynapseGuiEntry** focus;
	gint focus_length1;
	gint selected_category;
	SynapseGuiSearchingFor searching_for;
};

struct _SynapseGuiModelClass {
	GObjectClass parent_class;
};


static gpointer synapse_gui_model_parent_class = NULL;

GType synapse_gui_model_get_type (void) G_GNUC_CONST;
gpointer synapse_gui_entry_ref (gpointer instance);
void synapse_gui_entry_unref (gpointer instance);
GParamSpec* synapse_gui_param_spec_entry (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void synapse_gui_value_set_entry (GValue* value, gpointer v_object);
void synapse_gui_value_take_entry (GValue* value, gpointer v_object);
gpointer synapse_gui_value_get_entry (const GValue* value);
GType synapse_gui_entry_get_type (void) G_GNUC_CONST;
GType synapse_gui_searching_for_get_type (void) G_GNUC_CONST;
enum  {
	SYNAPSE_GUI_MODEL_DUMMY_PROPERTY
};
gboolean synapse_gui_model_has_results (SynapseGuiModel* self);
SynapseGuiEntry* synapse_gui_model_get_actual_focus (SynapseGuiModel* self);
void synapse_gui_model_set_actual_focus (SynapseGuiModel* self, gint i);
void synapse_gui_entry_set_key (SynapseGuiEntry* self, gconstpointer value);
void synapse_gui_entry_set_value (SynapseGuiEntry* self, gconstpointer value);
gboolean synapse_gui_model_needs_target (SynapseGuiModel* self);
gconstpointer synapse_gui_entry_get_value (SynapseGuiEntry* self);
void synapse_gui_model_clear (SynapseGuiModel* self, gint default_category);
void synapse_gui_model_clear_searching_for (SynapseGuiModel* self, SynapseGuiSearchingFor i, gboolean clear_query);
SynapseGuiModel* synapse_gui_model_new (void);
SynapseGuiModel* synapse_gui_model_construct (GType object_type);
static GObject * synapse_gui_model_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties);
SynapseGuiEntry* synapse_gui_entry_new (GType k_type, GBoxedCopyFunc k_dup_func, GDestroyNotify k_destroy_func, GType v_type, GBoxedCopyFunc v_dup_func, GDestroyNotify v_destroy_func);
SynapseGuiEntry* synapse_gui_entry_construct (GType object_type, GType k_type, GBoxedCopyFunc k_dup_func, GDestroyNotify k_destroy_func, GType v_type, GBoxedCopyFunc v_dup_func, GDestroyNotify v_destroy_func);
static void synapse_gui_model_finalize (GObject* obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);


gboolean synapse_gui_model_has_results (SynapseGuiModel* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	GeeList** _tmp1_ = NULL;
	gint _tmp1__length1 = 0;
	SynapseGuiSearchingFor _tmp2_ = 0;
	GeeList* _tmp3_ = NULL;
#line 44 "/home/heider/github/synapse/src/ui/model.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 46 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp1_ = self->results;
#line 46 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp1__length1 = self->results_length1;
#line 46 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp2_ = self->searching_for;
#line 46 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp3_ = _tmp1_[_tmp2_];
#line 46 "/home/heider/github/synapse/src/ui/model.vala"
	if (_tmp3_ != NULL) {
#line 137 "model.c"
		GeeList** _tmp4_ = NULL;
		gint _tmp4__length1 = 0;
		SynapseGuiSearchingFor _tmp5_ = 0;
		GeeList* _tmp6_ = NULL;
		gint _tmp7_ = 0;
		gint _tmp8_ = 0;
#line 46 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp4_ = self->results;
#line 46 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp4__length1 = self->results_length1;
#line 46 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp5_ = self->searching_for;
#line 46 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp6_ = _tmp4_[_tmp5_];
#line 46 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp7_ = gee_collection_get_size ((GeeCollection*) _tmp6_);
#line 46 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp8_ = _tmp7_;
#line 46 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp0_ = _tmp8_ > 0;
#line 158 "model.c"
	} else {
#line 46 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp0_ = FALSE;
#line 162 "model.c"
	}
#line 46 "/home/heider/github/synapse/src/ui/model.vala"
	result = _tmp0_;
#line 46 "/home/heider/github/synapse/src/ui/model.vala"
	return result;
#line 168 "model.c"
}


static gpointer _synapse_gui_entry_ref0 (gpointer self) {
#line 51 "/home/heider/github/synapse/src/ui/model.vala"
	return self ? synapse_gui_entry_ref (self) : NULL;
#line 175 "model.c"
}


SynapseGuiEntry* synapse_gui_model_get_actual_focus (SynapseGuiModel* self) {
	SynapseGuiEntry* result = NULL;
	SynapseGuiEntry** _tmp0_ = NULL;
	gint _tmp0__length1 = 0;
	SynapseGuiSearchingFor _tmp1_ = 0;
	SynapseGuiEntry* _tmp2_ = NULL;
	SynapseGuiEntry* _tmp3_ = NULL;
#line 49 "/home/heider/github/synapse/src/ui/model.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 51 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp0_ = self->focus;
#line 51 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp0__length1 = self->focus_length1;
#line 51 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp1_ = self->searching_for;
#line 51 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp2_ = _tmp0_[_tmp1_];
#line 51 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp3_ = _synapse_gui_entry_ref0 (_tmp2_);
#line 51 "/home/heider/github/synapse/src/ui/model.vala"
	result = _tmp3_;
#line 51 "/home/heider/github/synapse/src/ui/model.vala"
	return result;
#line 202 "model.c"
}


void synapse_gui_model_set_actual_focus (SynapseGuiModel* self, gint i) {
	SynapseGuiEntry** _tmp0_ = NULL;
	gint _tmp0__length1 = 0;
	SynapseGuiSearchingFor _tmp1_ = 0;
	SynapseGuiEntry* _tmp2_ = NULL;
	gint _tmp3_ = 0;
	SynapseGuiEntry** _tmp4_ = NULL;
	gint _tmp4__length1 = 0;
	SynapseGuiSearchingFor _tmp5_ = 0;
	SynapseGuiEntry* _tmp6_ = NULL;
	GeeList** _tmp7_ = NULL;
	gint _tmp7__length1 = 0;
	SynapseGuiSearchingFor _tmp8_ = 0;
	GeeList* _tmp9_ = NULL;
	gint _tmp10_ = 0;
	gpointer _tmp11_ = NULL;
	SynapseMatch* _tmp12_ = NULL;
#line 54 "/home/heider/github/synapse/src/ui/model.vala"
	g_return_if_fail (self != NULL);
#line 56 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp0_ = self->focus;
#line 56 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp0__length1 = self->focus_length1;
#line 56 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp1_ = self->searching_for;
#line 56 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp2_ = _tmp0_[_tmp1_];
#line 56 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp3_ = i;
#line 56 "/home/heider/github/synapse/src/ui/model.vala"
	synapse_gui_entry_set_key (_tmp2_, (gpointer) ((gintptr) _tmp3_));
#line 57 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp4_ = self->focus;
#line 57 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp4__length1 = self->focus_length1;
#line 57 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp5_ = self->searching_for;
#line 57 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp6_ = _tmp4_[_tmp5_];
#line 57 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp7_ = self->results;
#line 57 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp7__length1 = self->results_length1;
#line 57 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp8_ = self->searching_for;
#line 57 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp9_ = _tmp7_[_tmp8_];
#line 57 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp10_ = i;
#line 57 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp11_ = gee_list_get (_tmp9_, _tmp10_);
#line 57 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp12_ = (SynapseMatch*) _tmp11_;
#line 57 "/home/heider/github/synapse/src/ui/model.vala"
	synapse_gui_entry_set_value (_tmp6_, _tmp12_);
#line 57 "/home/heider/github/synapse/src/ui/model.vala"
	_g_object_unref0 (_tmp12_);
#line 263 "model.c"
}


gboolean synapse_gui_model_needs_target (SynapseGuiModel* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	SynapseGuiEntry** _tmp1_ = NULL;
	gint _tmp1__length1 = 0;
	SynapseGuiEntry* _tmp2_ = NULL;
	gconstpointer _tmp3_ = NULL;
	SynapseMatch* _tmp4_ = NULL;
#line 60 "/home/heider/github/synapse/src/ui/model.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 62 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp1_ = self->focus;
#line 62 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp1__length1 = self->focus_length1;
#line 62 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp2_ = _tmp1_[SYNAPSE_GUI_SEARCHING_FOR_ACTIONS];
#line 62 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp3_ = synapse_gui_entry_get_value (_tmp2_);
#line 62 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp4_ = _tmp3_;
#line 62 "/home/heider/github/synapse/src/ui/model.vala"
	if (((SynapseMatch*) _tmp4_) != NULL) {
#line 289 "model.c"
		SynapseGuiEntry** _tmp5_ = NULL;
		gint _tmp5__length1 = 0;
		SynapseGuiEntry* _tmp6_ = NULL;
		gconstpointer _tmp7_ = NULL;
		SynapseMatch* _tmp8_ = NULL;
		gboolean _tmp9_ = FALSE;
#line 63 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp5_ = self->focus;
#line 63 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp5__length1 = self->focus_length1;
#line 63 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp6_ = _tmp5_[SYNAPSE_GUI_SEARCHING_FOR_ACTIONS];
#line 63 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp7_ = synapse_gui_entry_get_value (_tmp6_);
#line 63 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp8_ = _tmp7_;
#line 63 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp9_ = synapse_match_needs_target ((SynapseMatch*) _tmp8_);
#line 63 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp0_ = _tmp9_;
#line 310 "model.c"
	} else {
#line 62 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp0_ = FALSE;
#line 314 "model.c"
	}
#line 62 "/home/heider/github/synapse/src/ui/model.vala"
	result = _tmp0_;
#line 62 "/home/heider/github/synapse/src/ui/model.vala"
	return result;
#line 320 "model.c"
}


void synapse_gui_model_clear (SynapseGuiModel* self, gint default_category) {
	gint _tmp16_ = 0;
#line 66 "/home/heider/github/synapse/src/ui/model.vala"
	g_return_if_fail (self != NULL);
#line 68 "/home/heider/github/synapse/src/ui/model.vala"
	self->searching_for = SYNAPSE_GUI_SEARCHING_FOR_SOURCES;
#line 330 "model.c"
	{
		gint i = 0;
#line 69 "/home/heider/github/synapse/src/ui/model.vala"
		i = 0;
#line 335 "model.c"
		{
			gboolean _tmp0_ = FALSE;
#line 69 "/home/heider/github/synapse/src/ui/model.vala"
			_tmp0_ = TRUE;
#line 69 "/home/heider/github/synapse/src/ui/model.vala"
			while (TRUE) {
#line 342 "model.c"
				gint _tmp2_ = 0;
				SynapseGuiEntry** _tmp3_ = NULL;
				gint _tmp3__length1 = 0;
				gint _tmp4_ = 0;
				SynapseGuiEntry* _tmp5_ = NULL;
				SynapseGuiEntry** _tmp6_ = NULL;
				gint _tmp6__length1 = 0;
				gint _tmp7_ = 0;
				SynapseGuiEntry* _tmp8_ = NULL;
				GeeList** _tmp9_ = NULL;
				gint _tmp9__length1 = 0;
				gint _tmp10_ = 0;
				GeeList* _tmp11_ = NULL;
				gchar** _tmp12_ = NULL;
				gint _tmp12__length1 = 0;
				gint _tmp13_ = 0;
				gchar* _tmp14_ = NULL;
				gchar* _tmp15_ = NULL;
#line 69 "/home/heider/github/synapse/src/ui/model.vala"
				if (!_tmp0_) {
#line 363 "model.c"
					gint _tmp1_ = 0;
#line 69 "/home/heider/github/synapse/src/ui/model.vala"
					_tmp1_ = i;
#line 69 "/home/heider/github/synapse/src/ui/model.vala"
					i = _tmp1_ + 1;
#line 369 "model.c"
				}
#line 69 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp0_ = FALSE;
#line 69 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp2_ = i;
#line 69 "/home/heider/github/synapse/src/ui/model.vala"
				if (!(_tmp2_ < ((gint) SYNAPSE_GUI_SEARCHING_FOR_COUNT))) {
#line 69 "/home/heider/github/synapse/src/ui/model.vala"
					break;
#line 379 "model.c"
				}
#line 71 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp3_ = self->focus;
#line 71 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp3__length1 = self->focus_length1;
#line 71 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp4_ = i;
#line 71 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp5_ = _tmp3_[_tmp4_];
#line 71 "/home/heider/github/synapse/src/ui/model.vala"
				synapse_gui_entry_set_key (_tmp5_, (gpointer) ((gintptr) 0));
#line 72 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp6_ = self->focus;
#line 72 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp6__length1 = self->focus_length1;
#line 72 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp7_ = i;
#line 72 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp8_ = _tmp6_[_tmp7_];
#line 72 "/home/heider/github/synapse/src/ui/model.vala"
				synapse_gui_entry_set_value (_tmp8_, NULL);
#line 73 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp9_ = self->results;
#line 73 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp9__length1 = self->results_length1;
#line 73 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp10_ = i;
#line 73 "/home/heider/github/synapse/src/ui/model.vala"
				_g_object_unref0 (_tmp9_[_tmp10_]);
#line 73 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp9_[_tmp10_] = NULL;
#line 73 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp11_ = _tmp9_[_tmp10_];
#line 74 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp12_ = self->query;
#line 74 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp12__length1 = self->query_length1;
#line 74 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp13_ = i;
#line 74 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp14_ = g_strdup ("");
#line 74 "/home/heider/github/synapse/src/ui/model.vala"
				_g_free0 (_tmp12_[_tmp13_]);
#line 74 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp12_[_tmp13_] = _tmp14_;
#line 74 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp15_ = _tmp12_[_tmp13_];
#line 427 "model.c"
			}
		}
	}
#line 76 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp16_ = default_category;
#line 76 "/home/heider/github/synapse/src/ui/model.vala"
	if (_tmp16_ >= 0) {
#line 435 "model.c"
		gint _tmp17_ = 0;
#line 77 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp17_ = default_category;
#line 77 "/home/heider/github/synapse/src/ui/model.vala"
		self->selected_category = _tmp17_;
#line 441 "model.c"
	}
}


void synapse_gui_model_clear_searching_for (SynapseGuiModel* self, SynapseGuiSearchingFor i, gboolean clear_query) {
	SynapseGuiEntry** _tmp0_ = NULL;
	gint _tmp0__length1 = 0;
	SynapseGuiSearchingFor _tmp1_ = 0;
	SynapseGuiEntry* _tmp2_ = NULL;
	SynapseGuiEntry** _tmp3_ = NULL;
	gint _tmp3__length1 = 0;
	SynapseGuiSearchingFor _tmp4_ = 0;
	SynapseGuiEntry* _tmp5_ = NULL;
	GeeList** _tmp6_ = NULL;
	gint _tmp6__length1 = 0;
	SynapseGuiSearchingFor _tmp7_ = 0;
	GeeList* _tmp8_ = NULL;
	gboolean _tmp9_ = FALSE;
#line 80 "/home/heider/github/synapse/src/ui/model.vala"
	g_return_if_fail (self != NULL);
#line 83 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp0_ = self->focus;
#line 83 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp0__length1 = self->focus_length1;
#line 83 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp1_ = i;
#line 83 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp2_ = _tmp0_[_tmp1_];
#line 83 "/home/heider/github/synapse/src/ui/model.vala"
	synapse_gui_entry_set_key (_tmp2_, (gpointer) ((gintptr) 0));
#line 84 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp3_ = self->focus;
#line 84 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp3__length1 = self->focus_length1;
#line 84 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp4_ = i;
#line 84 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp5_ = _tmp3_[_tmp4_];
#line 84 "/home/heider/github/synapse/src/ui/model.vala"
	synapse_gui_entry_set_value (_tmp5_, NULL);
#line 85 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp6_ = self->results;
#line 85 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp6__length1 = self->results_length1;
#line 85 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp7_ = i;
#line 85 "/home/heider/github/synapse/src/ui/model.vala"
	_g_object_unref0 (_tmp6_[_tmp7_]);
#line 85 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp6_[_tmp7_] = NULL;
#line 85 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp8_ = _tmp6_[_tmp7_];
#line 86 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp9_ = clear_query;
#line 86 "/home/heider/github/synapse/src/ui/model.vala"
	if (_tmp9_) {
#line 498 "model.c"
		gchar** _tmp10_ = NULL;
		gint _tmp10__length1 = 0;
		SynapseGuiSearchingFor _tmp11_ = 0;
		gchar* _tmp12_ = NULL;
		gchar* _tmp13_ = NULL;
#line 86 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp10_ = self->query;
#line 86 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp10__length1 = self->query_length1;
#line 86 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp11_ = i;
#line 86 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp12_ = g_strdup ("");
#line 86 "/home/heider/github/synapse/src/ui/model.vala"
		_g_free0 (_tmp10_[_tmp11_]);
#line 86 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp10_[_tmp11_] = _tmp12_;
#line 86 "/home/heider/github/synapse/src/ui/model.vala"
		_tmp13_ = _tmp10_[_tmp11_];
#line 518 "model.c"
	}
}


SynapseGuiModel* synapse_gui_model_construct (GType object_type) {
	SynapseGuiModel * self = NULL;
#line 26 "/home/heider/github/synapse/src/ui/model.vala"
	self = (SynapseGuiModel*) g_object_new (object_type, NULL);
#line 26 "/home/heider/github/synapse/src/ui/model.vala"
	return self;
#line 529 "model.c"
}


SynapseGuiModel* synapse_gui_model_new (void) {
#line 26 "/home/heider/github/synapse/src/ui/model.vala"
	return synapse_gui_model_construct (SYNAPSE_GUI_TYPE_MODEL);
#line 536 "model.c"
}


static GObject * synapse_gui_model_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties) {
	GObject * obj;
	GObjectClass * parent_class;
	SynapseGuiModel * self;
#line 89 "/home/heider/github/synapse/src/ui/model.vala"
	parent_class = G_OBJECT_CLASS (synapse_gui_model_parent_class);
#line 89 "/home/heider/github/synapse/src/ui/model.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 89 "/home/heider/github/synapse/src/ui/model.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SYNAPSE_GUI_TYPE_MODEL, SynapseGuiModel);
#line 550 "model.c"
	{
		gint i = 0;
#line 91 "/home/heider/github/synapse/src/ui/model.vala"
		i = 0;
#line 555 "model.c"
		{
			gboolean _tmp0_ = FALSE;
#line 91 "/home/heider/github/synapse/src/ui/model.vala"
			_tmp0_ = TRUE;
#line 91 "/home/heider/github/synapse/src/ui/model.vala"
			while (TRUE) {
#line 562 "model.c"
				gint _tmp2_ = 0;
				SynapseGuiEntry** _tmp3_ = NULL;
				gint _tmp3__length1 = 0;
				gint _tmp4_ = 0;
				SynapseGuiEntry* _tmp5_ = NULL;
				SynapseGuiEntry* _tmp6_ = NULL;
#line 91 "/home/heider/github/synapse/src/ui/model.vala"
				if (!_tmp0_) {
#line 571 "model.c"
					gint _tmp1_ = 0;
#line 91 "/home/heider/github/synapse/src/ui/model.vala"
					_tmp1_ = i;
#line 91 "/home/heider/github/synapse/src/ui/model.vala"
					i = _tmp1_ + 1;
#line 577 "model.c"
				}
#line 91 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp0_ = FALSE;
#line 91 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp2_ = i;
#line 91 "/home/heider/github/synapse/src/ui/model.vala"
				if (!(_tmp2_ < ((gint) SYNAPSE_GUI_SEARCHING_FOR_COUNT))) {
#line 91 "/home/heider/github/synapse/src/ui/model.vala"
					break;
#line 587 "model.c"
				}
#line 93 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp3_ = self->focus;
#line 93 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp3__length1 = self->focus_length1;
#line 93 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp4_ = i;
#line 93 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp5_ = synapse_gui_entry_new (G_TYPE_INT, NULL, NULL, SYNAPSE_TYPE_MATCH, (GBoxedCopyFunc) g_object_ref, g_object_unref);
#line 93 "/home/heider/github/synapse/src/ui/model.vala"
				_synapse_gui_entry_unref0 (_tmp3_[_tmp4_]);
#line 93 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp3_[_tmp4_] = _tmp5_;
#line 93 "/home/heider/github/synapse/src/ui/model.vala"
				_tmp6_ = _tmp3_[_tmp4_];
#line 603 "model.c"
			}
		}
	}
#line 95 "/home/heider/github/synapse/src/ui/model.vala"
	synapse_gui_model_clear (self, -1);
#line 89 "/home/heider/github/synapse/src/ui/model.vala"
	return obj;
#line 611 "model.c"
}


static void synapse_gui_model_class_init (SynapseGuiModelClass * klass) {
#line 26 "/home/heider/github/synapse/src/ui/model.vala"
	synapse_gui_model_parent_class = g_type_class_peek_parent (klass);
#line 26 "/home/heider/github/synapse/src/ui/model.vala"
	G_OBJECT_CLASS (klass)->constructor = synapse_gui_model_constructor;
#line 26 "/home/heider/github/synapse/src/ui/model.vala"
	G_OBJECT_CLASS (klass)->finalize = synapse_gui_model_finalize;
#line 622 "model.c"
}


static void synapse_gui_model_instance_init (SynapseGuiModel * self) {
	gchar** _tmp0_ = NULL;
	GeeList** _tmp1_ = NULL;
	SynapseGuiEntry** _tmp2_ = NULL;
#line 29 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp0_ = g_new0 (gchar*, SYNAPSE_GUI_SEARCHING_FOR_COUNT + 1);
#line 29 "/home/heider/github/synapse/src/ui/model.vala"
	self->query = _tmp0_;
#line 29 "/home/heider/github/synapse/src/ui/model.vala"
	self->query_length1 = SYNAPSE_GUI_SEARCHING_FOR_COUNT;
#line 32 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp1_ = g_new0 (GeeList*, SYNAPSE_GUI_SEARCHING_FOR_COUNT + 1);
#line 32 "/home/heider/github/synapse/src/ui/model.vala"
	self->results = _tmp1_;
#line 32 "/home/heider/github/synapse/src/ui/model.vala"
	self->results_length1 = SYNAPSE_GUI_SEARCHING_FOR_COUNT;
#line 35 "/home/heider/github/synapse/src/ui/model.vala"
	_tmp2_ = g_new0 (SynapseGuiEntry*, SYNAPSE_GUI_SEARCHING_FOR_COUNT + 1);
#line 35 "/home/heider/github/synapse/src/ui/model.vala"
	self->focus = _tmp2_;
#line 35 "/home/heider/github/synapse/src/ui/model.vala"
	self->focus_length1 = SYNAPSE_GUI_SEARCHING_FOR_COUNT;
#line 38 "/home/heider/github/synapse/src/ui/model.vala"
	self->selected_category = 0;
#line 41 "/home/heider/github/synapse/src/ui/model.vala"
	self->searching_for = SYNAPSE_GUI_SEARCHING_FOR_SOURCES;
#line 652 "model.c"
}


static void synapse_gui_model_finalize (GObject* obj) {
	SynapseGuiModel * self;
#line 26 "/home/heider/github/synapse/src/ui/model.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SYNAPSE_GUI_TYPE_MODEL, SynapseGuiModel);
#line 29 "/home/heider/github/synapse/src/ui/model.vala"
	self->query = (_vala_array_free (self->query, self->query_length1, (GDestroyNotify) g_free), NULL);
#line 32 "/home/heider/github/synapse/src/ui/model.vala"
	self->results = (_vala_array_free (self->results, self->results_length1, (GDestroyNotify) g_object_unref), NULL);
#line 35 "/home/heider/github/synapse/src/ui/model.vala"
	self->focus = (_vala_array_free (self->focus, self->focus_length1, (GDestroyNotify) synapse_gui_entry_unref), NULL);
#line 26 "/home/heider/github/synapse/src/ui/model.vala"
	G_OBJECT_CLASS (synapse_gui_model_parent_class)->finalize (obj);
#line 668 "model.c"
}


GType synapse_gui_model_get_type (void) {
	static volatile gsize synapse_gui_model_type_id__volatile = 0;
	if (g_once_init_enter (&synapse_gui_model_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (SynapseGuiModelClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) synapse_gui_model_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (SynapseGuiModel), 0, (GInstanceInitFunc) synapse_gui_model_instance_init, NULL };
		GType synapse_gui_model_type_id;
		synapse_gui_model_type_id = g_type_register_static (G_TYPE_OBJECT, "SynapseGuiModel", &g_define_type_info, 0);
		g_once_init_leave (&synapse_gui_model_type_id__volatile, synapse_gui_model_type_id);
	}
	return synapse_gui_model_type_id__volatile;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
#line 26 "/home/heider/github/synapse/src/ui/controller.vala"
	if ((array != NULL) && (destroy_func != NULL)) {
#line 687 "model.c"
		int i;
#line 26 "/home/heider/github/synapse/src/ui/controller.vala"
		for (i = 0; i < array_length; i = i + 1) {
#line 26 "/home/heider/github/synapse/src/ui/controller.vala"
			if (((gpointer*) array)[i] != NULL) {
#line 26 "/home/heider/github/synapse/src/ui/controller.vala"
				destroy_func (((gpointer*) array)[i]);
#line 695 "model.c"
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
#line 26 "/home/heider/github/synapse/src/ui/controller.vala"
	_vala_array_destroy (array, array_length, destroy_func);
#line 26 "/home/heider/github/synapse/src/ui/controller.vala"
	g_free (array);
#line 707 "model.c"
}



